{"content":[{"type":"subheader","crDate":1702299603852,"chDate":1702299606636,"text":"Speichern"},{"type":"paragraph","crDate":1702298924248,"chDate":1702299587614,"text":"Das Ablegen von Daten im localstorage findet über die setItem()-Methode statt.\nDie Parameter erhalten den Namen des Items und dessen Wert."},{"type":"code","crDate":1702299600381,"chDate":1702299601341,"text":"localStorage.setItem('myData', 123);"},{"type":"subheader","crDate":1702299610484,"chDate":1702299613437,"text":"Lesen"},{"type":"paragraph","crDate":1702299655169,"chDate":1702300261274,"text":"Zum Lesen der gespeicherten Daten bietet das localstorage die getItem()-Methode.\nDiese bekommt den Namen des Datensatzes übergeben, der gelesen werden soll."},{"type":"code","crDate":1702299658376,"chDate":1702299662840,"text":"let data = localStorage.getItem('myData');\nconsole.log(data);"},{"type":"paragraph","crDate":1702300268522,"chDate":1702300489066,"text":"Falls der Datensatz nicht existiert, liefert die getItem()-Methode <i>null</i> zurück. Daher empfiehlt es sich, die geladenen Daten zu prüfen, bevor sie verwendet werden sollen.\nIm Beispiel wird eine Datenstruktur vorbereitet und nur dann mit geladenen Daten gefüllt, wenn diese geladenen werden konnten."},{"type":"code","crDate":1702300664565,"chDate":1702300677244,"text":"let myContent = [];\nlet loaded = localStorage.getItem('content');\nif (loaded) myContent = JSON.parse(loaded);\nconsole.log(myContent);"},{"type":"subheader","crDate":1702300696019,"chDate":1702300785507,"text":"Item entfernen"},{"type":"paragraph","crDate":1702300788883,"chDate":1702301323359,"text":"Im Gegensatz zu Cookies hat der Webstorage keinen Mechanismus, um Items nach einer definierten Zeit automatisch zu entfernen.\nStatt dessen müssen die Items mithilfe der <i>removeItem()</i>-Methode entfernt werden. Diese bekommt als Parameter den Namen des zu entfernenden Items."},{"type":"code","crDate":1702301356464,"chDate":1702301358050,"text":"localStorage.removeItem('content');"},{"type":"subheader","crDate":1702301426652,"chDate":1702301433707,"text":"Leeren"},{"type":"paragraph","crDate":1702301424429,"chDate":1702301569809,"text":"Die <i>clear()</i>-Methode leert das gesamte Localstorage für die aktuelle Domain."},{"type":"code","crDate":1702301605219,"chDate":1702301608080,"text":"localStorage.clear();"},{"type":"subheader","crDate":1702301792585,"chDate":1702301797438,"text":"Iterieren"},{"type":"paragraph","crDate":1702302304081,"chDate":1702303715170,"text":"Um alle Items anzusprechen, liefert das localStorage-Objekt zwei Elemente: \n<ul>\n<li><b>length</b>\nDie Anzahl der Items erlaubt es, eine Schleife auszuführen.\n</li>\n<li><b>key</b>\nDie key()-Methode nimmt einen Index (z.B. 3) und liefert dann den Key des vierten (bei 0 angefangen) Attributes.\nMithilfe des Schlüssels kann schließlich der Value geladen werden.\n</li>\n</ul>"},{"type":"code","crDate":1702303722263,"chDate":1702303737582,"text":"for (let i = 0; i < localStorage.length; i++) {\n let key = localStorage.key(i);\n let val = localStorage.getItem(key);\n console.log(key, val);\n}"}]}