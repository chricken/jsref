{"content":[{"type":"paragraph","crDate":1713770153255,"chDate":1713770976088,"text":"Ein häufiger Wunsch an eine Webcomponent ist, dass in der Component erzeugte Werte von außerhalb gelesen werden können.\nDieses Problem lässt sich mit der <i>setAttribute()</i>d-Methode lösen.\nDamit kann der Komponenten ein beliebiges Attribut zugewiesen werden, das dann mit einem beliebigen String gefüllt werden kann. Eine große Einschränkung ist, dass das Attribut ausschließlich ein String sein kann."},{"type":"code","crDate":1713771010717,"chDate":1713772195298,"text":"class customComponent extends HTMLElement {\n constructor() {\n  super();\n  this.root = this.attachShadow({\n   mode: 'closed'\n  })\n  this.root.append(template.cloneNode(true));\n }\n\n // Eventlistener für Mounting\n connectedCallback() {\n  this.setAttribute('rnd-no', ~~(Math.random() * 100));\n }\n}\n\ncustomElements.define('custom-component', customComponent);"},{"type":"code","crDate":1713774656960,"chDate":1713774764373,"text":"&lt;!-- Resultierender HTML-Code -->\n&lt;custom-component rnd-no=\"94\">&lt;/custom-component>"},{"type":"subheader","crDate":1713772516201,"chDate":1713772524726,"text":"Non-Strings"},{"type":"paragraph","crDate":1713772607396,"chDate":1713774405906,"text":"Da in ein HTML-Attribut nur Strings eingetragen werden können, muss für nicht-Strings ein anderer Weg gefunden werden.\nGlücklicherweise ist auch ein DOM-Element ein ganz normales Objekt, dem beliebige Attribute mit beliebigen Werten gegeben werden kann.\nSo eingetragene Werte können nicht im DOM betrachtet werden, aber problemlos als normale Attribut augelesen werden."},{"type":"code","crDate":1713774040346,"chDate":1713774451244,"text":"// WebComponent \n\nclass customComponent extends HTMLElement {\n constructor() {\n  super();\n  this.root = this.attachShadow({\n   mode: 'closed'\n  })\n  this.root.append(template.cloneNode(true));\n }\n\n // Eventlistener für Mounting\n connectedCallback() {\n  this.data = [21, 54, 87, 98, 65, 32];\n }\n}\n\ncustomElements.define('custom-component', customComponent);"},{"type":"code","crDate":1713774435320,"chDate":1713774546006,"text":"// Haupt-Datei\n\nelements.customComponent = document.querySelector('custom-component');\nconsole.log(elements.customComponent.data);"}]}