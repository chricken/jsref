{"content":[{"type":"paragraph","crDate":1758117070009,"chDate":1758117764900,"text":"Wenn die Webseite nach der Anleitung als Server Side Rendering funktioniert, gibt es eigentlich nur noch ein Problem: Nach dem Kompilierung funktioniert sie nicht mehr. \nDas liegt daran, dass die Struktur nach der Kompilierung ganz anders aussieht.\nDamit die kompilierte (a.k.a. die <i>production</i>)-Version funktioniert, muss abschließend noch zwischen Development und Production unterschieden werden.\nDies kann bequem über eine <i>Environment-Variable</i> erledigt werden. Dies ist eine Variable, die nicht im Programm abgelegt wird sondern außerhalb, im Betriebssystem.\nIm Server wird dann überprüft, ob das Projekt als Production gestartet wurde oder nicht. Entsprechend wird der gewünschte Code ausgeführt."},{"type":"header","crDate":1758117772433,"chDate":1758118176767,"text":"Skripte"},{"type":"paragraph","crDate":1758117779467,"chDate":1758118164111,"text":"Zunächst muss die <i>package.json</i> erweitert werden.\nIm <i>script</i>-Teil werden die folgenden Scripte hinzugefügt: <i>build</i> und <i>serve</i> sollten schon vorhanden sein. Sie sind nur der Vollständigkeit halber hinzugefügt.\n<ul><li><b>build: </b>Kompiliert den Client-Code in den dist-Ordner</li>\n<li><b>build:server: </b>Kompiliert den Server-Code in den dist-Ordner</li>\n<li><b>serve: </b>Startet das Projekt als <i>Development</i>-Version. Änderungen werden per hot reload automatisch sofort angezeigt</li>\n<li><b>start: </b>Startet das Projekt als <i>Production</i>-Version. Die Daten im dist-Ordner werden angezeigt.</li></ul>\n"},{"type":"code","crDate":1758117889264,"chDate":1758117897986,"text":"\"build\": \"vite build\",\n\"build:server\": \"vite build --ssr src/entry-server.jsx --outDir dist/server\",\n\"serve\": \"node server/server.js\",\n\"start\": \"set NODE_ENV=production&& node server/server.js\","}]}