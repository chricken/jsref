{"content":[{"type":"paragraph","crDate":1770374141168,"chDate":1770374286539,"text":"Ein Formular besteht üblicherweise aus verschiedenen Eingabeelementen. Jedes für sich muss verstanden werden, weswegen wir uns hier jedes Element einzeln anschauen wollen. In den folgenden Beispielen werden wir so tun, als bestünde das Formular nur aus dem jeweiligen Eingabeelement.\nWir werden hier nur die kontrollierten Formulare betrachten."},{"type":"subheader","crDate":1770374086754,"chDate":1770374094653,"text":"select"},{"type":"paragraph","crDate":1770374096913,"chDate":1770374531946,"text":"In einem Selectfeld werden die Optionen durch eigene DOM-Elemente dargestellt. Deswegen werden wir in einem eigenen Array die Optionen verwalten. "},{"type":"code","crDate":1770374772653,"chDate":1770375461410,"text":"import {useState} from 'react';\n\nconst SelectExample = () => {\n const [selectedOption, setSelectedOption] = useState('');\n\n const options = [\n  {value: '', label: '-- Bitte wählen --'},\n  {value: 'option1', label: 'Option 1'},\n  {value: 'option2', label: 'Option 2'},\n ];\n\n const handleChange = (evt) => {\n  setSelectedOption(evt.target.value)\n }\n\n return (\n  &lt;>\n   &lt;select\n    value={selectedOption}\n    onChange={handleChange}\n   >\n    {options.map((option) => (\n     &lt;option key={option.value} value={option.value}>\n      {option.label}\n     &lt;/option>\n    ))}\n   &lt;/select>\n   &lt;p>{selectedOption}&lt;/p>\n  &lt;/>\n );\n};\n\nexport default SelectExample;"},{"type":"subheader","crDate":1770375535093,"chDate":1770375544301,"text":"Checkbox und Radiobuttons"},{"type":"paragraph","crDate":1770375555466,"chDate":1770375939093,"text":"Eine Checkbox zeichnet sich vor allem durch die <i>checked</i>-Eigenschaft aus. \nDiese wird hier verwendet, um den Zustand der Checkbox auszulesen."},{"type":"code","crDate":1770375778045,"chDate":1770375866954,"text":"import {useState} from 'react';\n\nconst CheckboxExample = () => {\n const [isChecked, setIsChecked] = useState(false);\n\n const handleChange = evt => {\n  setIsChecked(evt.target.checked);\n }\n\n return (\n  &lt;label>\n   &lt;input\n    type=\"checkbox\"\n    checked={isChecked}\n    onChange={handleChange}\n   />\n   Bedingungen akzeptieren\n\n   &lt;p>{isChecked.toString()}&lt;/p>\n  &lt;/label>\n );\n};\n\nexport default CheckboxExample;"},{"type":"paragraph","crDate":1770375951025,"chDate":1770377632830,"text":"Häufig haben wir nicht eine Checkbox sondern mehrere, die thematisch zusammenhängen.\nDie Optionen können in einem Array erfasst werden. Dieses Array wird dann verwendet um die Checkboxen zu erzeugen.\nBei einer Änderung einer Checkbox kann dann der State analysiert und verwendet werden."},{"type":"code","crDate":1770377515147,"chDate":1770386950110,"text":"import {useState} from 'react';\n\nconst MultiCheckbox = () => {\n const [checkedItems, setCheckedItems] = useState({\n  Hamburg: false,\n  Berlin: false,\n  Köln: false,\n  München: false\n });\n\n const handleChange = (event) => {\n  setCheckedItems({\n   ...checkedItems,\n   [event.target.name]: event.target.checked\n  });\n };\n\n return (\n  &lt;>\n   &lt;div>\n    {Object.keys(checkedItems).map((item) => (\n     &lt;label key={item}>\n      &lt;input\n       type=\"checkbox\"\n       name={item}\n       checked={checkedItems[item]}\n       onChange={handleChange}\n      />\n      {item}\n     &lt;/label>\n    ))}\n   &lt;/div>\n   &lt;p>{Object.values(checkedItems).filter(Boolean).length} items selected&lt;/p>\n   &lt;p>{Object.entries(checkedItems)\n    .filter(([key, val]) => {\n     console.log(val);\n     return val\n    }).map(([key, val]) => {\n     console.log(key);\n     return key\n    }).join(', ')}\n   &lt;/p>\n  &lt;/>\n );\n};\n\nexport default MultiCheckbox;"},{"type":"subheader","crDate":1770384203231,"chDate":1770384221832,"text":"file"},{"type":"paragraph","crDate":1770384227230,"chDate":1770384888076,"text":"Da der Wert eines <i>File</i>-Selectors von React nicht direkt verarbeitet werden kann, muss ein file-Input eine unkontrollierte Komponente sein. \nDer Inhalt des Elementes wird also nicht durch einen State bestimmt, kann aber im Eventhandler in den State geschrieben werden."},{"type":"code","crDate":1770384427589,"chDate":1770386956485,"text":"import {useState} from 'react';\n\nconst FileUpload = () => {\n const [file, setFile] = useState(null);\n const [imageUrl, setImageUrl] = useState(null);\n\n const handleChange = (event) => {\n  setFile(event.target.files[0]);\n  setImageUrl(URL.createObjectURL(event.target.files[0]));\n };\n\n const handleSubmit = (event) => {\n  event.preventDefault();\n  const formData = new FormData();\n  formData.append('file', file);\n  \n  // Hier würde man formData an einen Server senden\n  console.log('Datei:', file);\n };\n\n return (\n  &lt;form onSubmit={handleSubmit}>\n   &lt;input type=\"file\" onChange={handleChange} />\n   &lt;button type=\"submit\">Hochladen&lt;/button>\n   {imageUrl && &lt;img src={imageUrl} alt=\"Uploaded\" width={300}/>}\n  &lt;/form>\n );\n};\n\nexport default FileUpload;"}]}