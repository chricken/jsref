{"content":[{"type":"paragraph","crDate":1721914816492,"chDate":1721915293677,"text":"Ein häufiges Problem mit Objekten ist, dass bei einer Umwandlung per JSON einfach alle Attribute übertragen werden. Auch die Getter und unerwünschte Attribute werden umgesetzt.\nUm das zu verhindern kann eine einfache Funktion in die Klasse eingetragen werden, die nur die gewünschten Attribute ausgibt.\nAuf diesem Weg kann ein passender JSON-String erzeugt werden."},{"type":"code","crDate":1721915377607,"chDate":1721915436756,"text":"class Auto {\n constructor(marke, modell, kw, baujahr, secret) {\n  this.marke = marke;\n  this.modell = modell;\n  this.kw = kw;\n  this.baujahr = baujahr;\n  this.secret = secret;\n  this.fgNummer = (Math.random() * 1e17).toString(36);\n  this.created = Date.now();\n }\n get alter() {\n  return new Date().getFullYear() - this.baujahr;\n }\n get ps() {\n  return Math.round(this.kw / .73);\n }\n get export() {\n  return JSON.stringify({\n   marke: this.marke,\n   modell: this.modell,\n   kw: this.kw,\n   baujahr: this.baujahr,\n  })\n }\n}\n\nlet meinAuto = new Auto('Hyundai', 'i20', 60, 2016, 'Pssst!')\nlet exportData = meinAuto.export;\nlet data = JSON.stringify(meinAuto);\n\nconsole.log(data);  // -> enthält auch Getter\nconsole.log(exportData);  // -> enthält nur die gewünschten Attribute"}]}