{"content":[{"type":"paragraph","crDate":1766412319895,"chDate":1766412897829,"text":"Das Indexieren (oder Indizieren, je nach Schreibweise) ist Grundvoraussetzung für eine effiziente Verarbeitung der Daten in einer CouchDB. Dokumente einer Datenbank werden dabei nach einem oder mehreren Attributen sortiert und diese Sortierungen werden als Index oder Inhaltsverzeichnis zur Verfügung gestellt.\nIn CouchDB wird die Indexierung durch Views realisiert."},{"type":"paragraph","crDate":1766412899416,"chDate":1766413227212,"text":"In der <i>map</i>-Funktion des View wird über die <i>emit()</i>-Funktion bestimmt, welche Daten aus der Datenbank zurückgeliefert werden. die emit()-Funktion nimmt zwei Parameter an:\nDer erste ist der <i>Key</i>, nach dem sortiert wird. Dieser Key wird auch zur Indexierung verwendet. \nDer zweite Parameter enthält das Objekt, das mit dem Key zusammenhängen soll. Dies kann des document sein oder ein neu erzeugtes Objekt.\nIm Beispiel unten werden die Dokumente nach dem Attribut uniqueTitle indexiert/sortiert und das gesamte Dokument zurückgegeben"},{"type":"code","crDate":1766413184329,"chDate":1766413185709,"text":"doc=> {\n  emit(doc.uniqueTitle, doc);\n}"},{"type":"subheader","crDate":1766414924423,"chDate":1766414930012,"text":"Mehrere Indizes"},{"type":"paragraph","crDate":1766414932680,"chDate":1766414981143,"text":"Manchmal muss auch nach mehreren Attributen sortiert werden. Zum Beispiel nach Nachnamen und dann nach Vornamen.\nDazu können die gewünschten Attribute als Array übergeben werden."},{"type":"code","crDate":1766414983461,"chDate":1766415011532,"text":"doc => {\n  emit([doc.lastName, doc.firstName], doc);\n}"},{"type":"paragraph","crDate":1766413241062,"chDate":1766414529080,"text":"Natürlich kann die Abfrage mithilfe des Options-Objektes gesteuert werden. \nSiehe hierzu <a href=\"/?id=7z4a9gpljjw\">Views</a>"}]}