{"content":[{"type":"paragraph","crDate":1722945238501,"chDate":1753785476570,"text":"React ist auf die Komponenten-Architektur fokussiert. Das hat zur Konsequenz, dass keine normalen Variablen verwendet werden sollen. Weder globale Variablen, noch welche innerhalb der Komponenten. Stattdessen werden alle in der Komponenten verwendeten Daten in einem <i>State</i> abgelegt.\nEin state ist eine spezielle Art von Variable, welche den Lebenszyklus einer Komponenten berücksichtigt. Daten werden zum richtigen Zeitpunkt in die Variable geschrieben. Eine Änderung der Variablen führt zu einer Aktualisierung der Komponenten.\nUm einen State anzulegen, wird die <i>useState()</i>-Methode verwendet.\nDie useState()-Methode wird aus dem <i>react</i>-Modul importiert."},{"type":"paragraph","crDate":1722947248555,"chDate":1753785535922,"text":"Die <i>useState()</i>-Methode gibt ein Array zurück, in der die Variable gespeichert ist sowie eine Funktion. \nÜblicherweise wird der Rückgabewert per <a href=\"/?id=ju1d49qun1c\">Destructuring</a> in zwei Variablen abgelegt.\nDie Variable kann ganz normal im Code und in Expressions verwendet werden. Um die Variable jedoch zu überschreiben, muss die dazugehörige Funktion verwendet werden.\nSo geschieht das Beschreiben im richtigen Augenblick des Lebenszyklus' und triggert die Aktualisierung der Komponenten."},{"type":"code","crDate":1722947660219,"chDate":1722947720305,"text":"import { useState } from 'react';\n\nconst App = () => {\n let [data, setData] = useState(100);\n\n const changeData = () => {\n  let num = ~~(Math.random() * 100);\n  setData(num); \n }\n\n return (\n  &lt;>\n   &lt;p> {data} &lt;/p>\n   &lt;p> &lt;button onClick={changeData}>Change&lt;/button> &lt;/p>\n  &lt;/>\n }\n}\n"},{"type":"subheader","crDate":1771327584743,"chDate":1771327608657,"text":"One Way Data Flow"},{"type":"paragraph","crDate":1771327611412,"chDate":1771328269566,"text":"In React fließen Daten nur in eine Richtung. D.h., die Daten werden z.B. in einer Component als State gespeichert. \nÜber einen Parameter wird der State an eine andere Component übergeben.\nWenn nun der Wert verändert werden soll, dann brauchen wir eine Funktion aus der Ursprungskomponenten, da nur dort die Daten verändert werden dürfen.\nDa Funktionen in JS grundsätzlich als Referenz übergeben werden,. behalten sie ihren Scope in der Ursprungskomponenten. Ganz gleich, von wo wir sie ausrufen.\nWir können also einfach in der Ursprungskomponenten eine Funktion anlegen und diese in der Kindkomponenten aufrufen.\nDadurch geben wir immer die Daten von der Eltern- an die Kindkomponente.\n"},{"type":"code","crDate":1771328273586,"chDate":1771328414728,"text":"// Elternkomponente\nimport './App.css'\nimport Planet from \"./component/Planet/Planet.jsx\";\n\nimport {useState} from 'react';\n\nconst App = () => {\n const [planet1, setPlanet1] = useState({\n  name: 'Merkur',\n  distance: 57.91e6,\n  radius: 2439,\n  mass: 3.3e23,\n  counter: 0,\n })\n\n return (\n  &lt;>\n   &lt;h1>Planeten&lt;/h1>\n   &lt;Planet payload={planet1} callback={() => setPlanet1({...planet1, counter: planet1.counter + 1})}/>\n  &lt;/>\n )\n}\n\nexport default App"},{"type":"code","crDate":1771328437850,"chDate":1771328532156,"text":"// Kindkomponente Planet.jsx\n\nimport './Planet.css';\n\nconst Planet = ({payload, callback}) => {\n return (\n  &lt;>\n   &lt;div className={'planet'} onClick={() => callback()}>\n    &lt;h2>{payload.name}&lt;/h2>\n    &lt;p>Distance: {payload.distance} km&lt;/p>\n    &lt;p>Radius: {payload.radius} km&lt;/p>\n    &lt;p>Mass: {payload.mass} kg&lt;/p>\n    &lt;p>Counter: {payload.counter}&lt;/p>\n   &lt;/div>\n  &lt;/>\n )\n}\n\nexport default Planet;"}]}